<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:fb="http://www.facebook.com/2008/fbml"
                template="layout/template-1col.xhtml">

<ui:define name="body">

    <script src="http://static.ak.connect.facebook.com/js/api_lib/v0.4/FeatureLoader.js.php/#{locale.language}_#{locale.country}" type="text/javascript"></script>
    
    <script type="text/javascript">
    function facebook_onlogin() {
        FB.Connect.ifUserConnected("fblogin/loginFB.seam?cid=#{conversation.id}");
    }
    </script>


    <h1>#{messages['login.header']}</h1>
	<rich:messages styleClass="message" />

	<h:form id="formLogin">
        <center>
	        <div id="loginDialog">
				<p><strong>Please login here:</strong></p>
		
				<div class="dialog">
				  <h:panelGrid columns="2" rowClasses="prop" columnClasses="name,value">
					<h:outputLabel for="username">#{messages['login.username']}</h:outputLabel>
					<h:inputText id="username" value="#{loginAction.login}" />
					<h:outputLabel for="password">#{messages['login.password']}</h:outputLabel>
					<h:inputSecret id="password" value="#{loginAction.password}" />
					<h:outputLabel for="rememberMe">#{messages['login.remember']}</h:outputLabel>
					<h:selectBooleanCheckbox id="rememberMe" value="#{rememberMe.enabled}" />
				  </h:panelGrid>
				</div>
				
		
		        <div class="registerText">#{messages['login.registered']}<h:outputText value=" " /><s:link view="/register.xhtml" value="#{messages['login.register']}"/></div>
				<div class="actionButtons">
				  <h:commandButton value="#{messages['login.btn_login']}" action="#{loginAction.login}" />
				</div>
			</div>


            <div class="alternative-login">
                <table>
                    <tr>
                        <td><img src="img/facebook-logo-small.png" /></td>
                        <td>
                            <a href="#" onclick="FB.Connect.requireSession(facebook_onlogin); return false;">#{messages['login.facebook']}</a>.
                        </td>
                    </tr>
                    <tr>
                        <td><img src="img/foaf-logo-small.png" /></td>
                        <td>
                            <s:link view="/foaflogin/loginFOAFSSL.xhtml" value="#{messages['login.foaf']}"/>.
                        </td>
                    </tr>
                </table>
            </div>
	    </center>
	    
    </h:form>

    <script type="text/javascript">
        FB.init("190a903512661358a6e73b787aaa2a85", "fbconnect/xd_receiver.htm");
    </script>

</ui:define> 
</ui:composition>
