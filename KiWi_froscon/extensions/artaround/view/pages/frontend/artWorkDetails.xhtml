<!--
	Copyright Â© Rolf Sint, Michael Schneider, Christian Osterrieder, 2010
 */
 -->

<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
		    	xmlns:rich="http://richfaces.org/rich"
		    	xmlns:a="http://richfaces.org/a4j"
		    	template="../../layout/template-3col.xhtml"
		    	xmlns:a4j="http://richfaces.org/a4j"	
		    	xmlns:c="http://java.sun.com/jstl/core">
		    		    	
	 <ui:define name="breadcrumps">
	 	<ul>
	 		<li class="first">				 			
				<s:link view="/artaround/home.xhtml" value="#{messages['artaround.breadcrumps.home']}"/>
	 		</li>
	 		<li>				 			
				<s:link view="/artaround/pages/frontend/artWorkDetails.xhtml" 
					value="#{messages['artaround.breadcrumps.artworkDetails']}"/>
			</li>	
	 	</ul>
	 </ui:define>
    	
     <ui:define name="body">
    	
     <style>        
		
		/* root element for horizontal scrollables */
		.scrollable {
			position:relative;
			overflow:hidden;
			width: 510px;
			height: 430px;
		}
		
		/* root element for scrollable items */
		.scrollable .items {
			width:20000em;
			position:absolute;
			clear:both;
		}
		
		/* single scrollable item */
		.item {
			float:left;
			cursor:pointer;
			width:500px;
			height:450px;
			padding:10px;
		}		
		
		/* styling for the image wrapper  */
		
		#image_wrap {
			/* dimensions */
			width:680px;
			margin:-5px 15px 10px 40px;
			padding:15px 0;		
			text-align:center;		
			/* some "skinning" */
			background-color:transparent;
			border:1px solid #ccc;
			-moz-outline-radius:4px;
		}   
		
		h3 {
			margin:-10px 0 -10px 0;
			font-size:16px;
			color:#456;
			font-weight:bold;
			text-align: left;
		}
		
		h4 {
			margin:5px 0;
			font-size:14px;
			color:#456;
			font-weight:normal;
			text-align: left;
		}    		
					
	 </style>

	 <script>
		// execute your scripts when the DOM is ready. this is a good habit
		jQuery(function() {
		
			// initialize scrollable
			jQuery("div.scrollable").scrollable();
		
		});
	 </script>	
	
	 <script>
		jQuery(function() {
		
		jQuery(".items img").click(function() {
		
			// calclulate large image's URL based on the thumbnail URL (flickr specific)
			var url = jQuery(this).attr("src").replace("100x75", "400x330");
		
			// get handle to element that wraps the image and make it semitransparent
			var wrap = jQuery("#image_wrap").fadeTo("medium", 0.5);
		
			// the large image from flickr
			var img = new Image();
		
			// call this function after it's loaded
			img.onload = function() {
		
				// make wrapper fully visible
				wrap.fadeTo("fast", 1);
		
				// change the image
				wrap.find("img").attr("src", url);
		
			};
		
			// begin loading the image from flickr
			img.src = url;
		
		// when page loads simulate a "click" on the first image
		}).filter(":first").click();
		});
	 </script>							
			
     <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.requestContextPath}/view/jQueryStyle/scrollable-horizontal.css" />
	 <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.requestContextPath}/view/jQueryStyle/scrollable-buttons.css" />   
	
	
	<!-- wrapper element for the large image -->
	<div id="image_wrap" style="height: 380px; width: 680px">
	  <table cellspacing="10px" style="margin-right:10px">	
		<tr>
			<td colspan="2" align="center">			  
				<h3 style="margin-left:20px; text-align:center;">
				#{artWorkBean.artWorkName}  &#8901; #{artWorkBean.authorName} &#8901; Salzburg
				</h3>			 
			</td>
		</tr>	
		<tr>	
			<td >				
				<div style="margin-left:15px;">
				<!-- <h3>#{artWorkBean.technique}</h3><br/>   -->
				<h4>#{artWorkBean.description}</h4><br/><br/>
				<h4>#{messages['artaround.artworks.price']}: #{artWorkBean.currency} #{artWorkBean.price}</h4><br/>
				<br/>
				<a href="#" style="color:#EB6D0E" id = "techniquex" onclick="jQuery('#map_chooser').fadeIn('fast',function(){initialize()})">#{messages['artaround.artworks.location']} des Kunstwerkes</a>	
		       	<br/><br/><br/>
				<c:if test="#{artWorkBean.sellingState}">
					<h:form>
						<a4j:commandLink value="#{messages['artaround.artworks.buyArtwork']}"  
							action="#{showArtWorkAction.buyArtWork()}" />
					</h:form>
				</c:if>
				<c:if test="#{not artWorkBean.sellingState}">
					<h4>#{messages['artaround.artworks.sellingStateNo']}</h4>
				</c:if>
				</div>
			</td>			
			<td width="430px" height="360px">
				<!-- Initially the image is a simple 1x1 pixel transparent GIF -->
				<img src="#{facesContext.externalContext.requestContextPath}/view/img/blank.gif" />
			</td>
		</tr>
	  </table>
	</div>
	
	<!-- "previous page" action -->
	<a class="prevPage browse left"></a>
	
	<!-- root element for scrollable -->
	<div class="scrollable">	
		
		<!-- root element for the items -->
		<div class="items">
		
			<!--  Alle Bilder des selektierten Kunstwerkes -->
			 
			<c:forEach items="#{artWorkBean.artAroundMediaList}" var="pic">
					<img src="#{showArtWorkAction.getMiniMultimediaFilename(pic)}" />
			</c:forEach> 
			
			<!-- Dummy Pics nur zur Darstellung von jQuery Komponente -->
			<!-- 1-5 -->
			<img src="http://farm1.static.flickr.com/143/321464099_a7cfcb95cf_t.jpg" width="100px" height="75px" />
			<img src="http://farm4.static.flickr.com/3089/2796719087_c3ee89a730_t.jpg" width="100px" height="75px" />
			<img src="http://farm1.static.flickr.com/79/244441862_08ec9b6b49_t.jpg" width="100px" height="75px" />
			<img src="http://farm1.static.flickr.com/28/66523124_b468cf4978_t.jpg" width="100px" height="75px" />
			<img src="http://farm1.static.flickr.com/164/399223606_b875ddf797_t.jpg" width="100px" height="75px" />
			
			<!-- 5-10 -->
			<img src="http://farm1.static.flickr.com/163/399223609_db47d35b7c_t.jpg" width="100px" height="75px" />
			<img src="http://farm1.static.flickr.com/135/321464104_c010dbf34c_t.jpg" width="100px" height="75px" />
			<img src="http://farm1.static.flickr.com/40/117346184_9760f3aabc_t.jpg" width="100px" height="75px" />
			<img src="http://farm1.static.flickr.com/153/399232237_6928a527c1_t.jpg" width="100px" height="75px" />
			<img src="http://farm1.static.flickr.com/50/117346182_1fded507fa_t.jpg" width="100px" height="75px" />
			
			<!-- 10-15 
			<img src="http://farm4.static.flickr.com/3629/3323896446_3b87a8bf75_t.jpg" width="100px" height="75px" />
			<img src="http://farm4.static.flickr.com/3023/3323897466_e61624f6de_t.jpg" width="100px" height="75px" />
			<img src="http://farm4.static.flickr.com/3650/3323058611_d35c894fab_t.jpg" width="100px" height="75px" />
			<img src="http://farm4.static.flickr.com/3635/3323893254_3183671257_t.jpg" width="100px" height="75px" />
			<img src="http://farm4.static.flickr.com/3624/3323893148_8318838fbd_t.jpg" width="100px" height="75px" />
			-->
		</div>		
	</div>
	
	<!-- "next page" action -->
	<a class="nextPage browse right"></a>
			
  </ui:define>
  
  <ui:define name="popups">
	<div id="map_chooser" style="display:none">
		<div class="background_hider" />
			<div class="popup_600">
				<ui:include src="../popup/map_chooser.xhtml" />	
			</div>
		</div>
		
	</ui:define>
				
</ui:composition> 